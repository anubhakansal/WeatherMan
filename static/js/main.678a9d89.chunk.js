(this.webpackJsonpweatherman=this.webpackJsonpweatherman||[]).push([[0],{17:function(e,t,a){e.exports=a(42)},22:function(e,t,a){},23:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(16),r=a.n(c),i=(a(22),a(3)),s=a(4),o=a(6),m=a(5),u=(a(23),a(2)),d=a.n(u),h=(a(41),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleOnInputChange=function(e){e.preventDefault();var t=e.target[0].value;t?n.setState({city:t,message:""},(function(){n.fetchSearchResult(t)})):n.setState({city:t,result:{},message:""})},n.fetchSearchResult=function(e){n.setState({city:"",result:void 0,message:""});var t="https://cors-anywhere.herokuapp.com/www.metaweather.com/api/location/search/?query="+e,a="https://cors-anywhere.herokuapp.com/www.metaweather.com/api/location/";d.a.get(t,{cancelToken:n.cancel.token}).then((function(t){if(console.log(t.data),1==t.data.length)a+=t.data[0].woeid,d.a.get(a,{cancelToken:n.cancel.token}).then((function(t){var a=t?"":"No record found for this city. Please try a different city.";n.setState({result:t.data,message:a,city:e},(function(){n.render()}))})).catch((function(e){(d.a.isCancel(e)||e)&&n.setState({message:"Failed to fetch data. Please check withthe administrator.",result:{}})}));else if(t.data.length>1){var l="";t.data.forEach((function(e){l+="'"+e.title+"' "})),n.setState({message:"There are more than one city with this name : "+l},(function(){n.render()}))}else n.setState({message:"There is no city with the specified name in our database. Please try a different city."},(function(){n.render()}))})).catch((function(e){(d.a.isCancel(e)||e)&&n.setState({message:"Failed to fetch data. Please check withthe administrator.",result:{}})}))},n.renderSearchResult=function(){if(null!=n.state){if(void 0!=n.state.result){var e=n.state.result;return console.log(e.consolidated_weather),l.a.createElement("div",{id:"Display"},l.a.createElement("div",{className:"row centre"},l.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-6 location"},l.a.createElement("h1",null,e.title),", ",l.a.createElement("a",{href:""}),l.a.createElement("dl",{className:"dl-horizontal pull-right"},l.a.createElement("dt",null,"Time"),l.a.createElement("dd",null,e.time.split("T")[0]+" "+e.time.split("T")[1].split(".")[0]),l.a.createElement("dt",null,"Sunrise"),l.a.createElement("dd",null,e.sun_rise.split("T")[0]+" "+e.sun_rise.split("T")[1].split(".")[0]),l.a.createElement("dt",null,"Sunset"),l.a.createElement("dd",null,e.sun_set.split("T")[0]+" "+e.sun_set.split("T")[1].split(".")[0])))),l.a.createElement("hr",null),l.a.createElement("div",{className:"row weather weather-lrg"},n.state.result.consolidated_weather.map((function(e,t){return l.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-xs-4 "},l.a.createElement("h2",null,l.a.createElement("a",null,e.applicable_date)),l.a.createElement("dl",null,l.a.createElement("dt",{className:"humidity"},"Weather"),l.a.createElement("dd",{className:"weatherstate","data-title":"Forecasts","data-original-title":"",title:""},l.a.createElement("span",{className:"hidden-xs hidden-sm"},e.weather_state_name)),l.a.createElement("dt",null,"Temperature"),l.a.createElement("dd",null,"Max: ",e.weather_state_name,"\xb0C",l.a.createElement("br",null),"Min: ",e.weather_state_name,"\xb0C"),l.a.createElement("dt",{className:"humidity"},"Wind Speed"),l.a.createElement("dd",null,Math.floor(e.wind_speed),"mph"),l.a.createElement("dt",{className:"humidity"},"Humidity"),l.a.createElement("dd",null,e.humidity,"%"),l.a.createElement("dt",{className:"visibility"},"Visibility"),l.a.createElement("dd",null,Math.floor(e.visibility)," miles"),l.a.createElement("dt",{className:"dewpoint"},"Pressure"),l.a.createElement("dd",null,e.air_pressure,"mb"),l.a.createElement("dt",{className:"predictability"},"Confidence"),l.a.createElement("dd",null,e.predictability,"%")))}))))}return l.a.createElement("div",{id:"Display"},l.a.createElement("div",{className:"row"},l.a.createElement("h1",null,n.state.message)))}},n.searchResult={city:"",result:{},message:""},n.cancel="",n}return Object(s.a)(a,[{key:"componentWillMount",value:function(){var e=this;this.setState({city:"New Delhi",result:void 0,message:""},(function(){e.fetchSearchResult("New Delhi")}))}},{key:"componentDidUpdate",value:function(e,t){console.log("Old: "+t),console.log("New: "+this.state),console.log("Old: "+e),console.log("New: "+this.props)}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"fixed-top wrap"},l.a.createElement("div",{id:"top"},l.a.createElement("ul",{id:"navigation"},l.a.createElement("li",null,l.a.createElement("a",{className:"logo",href:"./index.html",target:"_self"},l.a.createElement("input",{type:"button",value:"WEATHERMAN"}))),l.a.createElement("form",{className:"example",onSubmit:this.handleOnInputChange},l.a.createElement("input",{id:"txtsearch",type:"text",placeholder:"Search...",name:"search2"}),l.a.createElement("button",{id:"btnSearch",type:"submit"},l.a.createElement("i",{className:"fa fa-search"})))))),this.renderSearchResult())}}]),a}(n.Component)),p=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={weather:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(h,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.678a9d89.chunk.js.map